== Enhanced Retrieval Extension ==

=== Requirements ===
* MediaWiki 1.27.x 
* SMW 2.4.x
* Apache SOLR server v4.4 
	find a preconfigured SOLR with the DataWiki configuration at
	http://downloads.diqa-pm.com/free/power-search/1.9.0/

	We recommend using Tomcat as an application server for SOLR. Installation instructions are contained.
	
=== Installation Instructions ===

* Add to your LocalSettings.php:
  $smwgEnabledDeferredUpdate = false;
  
* Add this ONLY IF you DID NOT use composer to install  
	require_once("extensions/EnhancedRetrieval/includes/EnhancedRetrieval.php");

* Then run:
	php {wiki-path}/extensions/EnhancedRetrieval/maintenance/setup.php

* Adapt configuration to SOLR Server
	If the SOLR server does not run on port 8080 (default port of Tomcat), please configure it in 
		{wiki-path}/extensions/EnhancedRetrieval/includes/FacetedSearch/solrproxy.php
		{wiki-path}/extensions/EnhancedRetrieval/includes/FacetedSearch/FS_Settings.php

* Start the SOLR server 

* Create the initial index:
	php {wiki-path}/extensions/EnhancedRetrieval/maintenance/updateSOLR.php -v
	
	OR via composer:
	
	cd php {wiki-path}/extensions/EnhancedRetrieval
	composer run-script update

That's it.

=== Troubleshooting ===

SSL users: Sometimes servers are configured to not allow *local* HTTPS requests but only HTTP.
		   In this case set: 
		   
		   $wgServerHTTP = http://....
		   $wgHTTPAuthForLocalProxies = true;


